# helper functions for writing responses

exports.error=(req,res,e=null,text='Internal Server Error',code=500) ->
  console.log code+' Error on '+req.method+' '+req.url
  console.log text
  console.dir e if e?

  res.writeHead code,text,
    'Content-Type':'text/plain'
  res.end text

exports.not_found=(req,res,text) ->
  exports.error req,res,text,'Not Found',404

exports.bad_request=(req,res,text) ->
  exports.error req,res,text,'Bad Request',400

